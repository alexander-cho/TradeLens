{% extends 'main/base.html' %}

{% block content %}

    <div class="row">
        <div class="col-md-6 d-flex align-items-center">
            <div>
                <h1>{{ stock.ticker_symbol }}</h1>
                <h4>{{ stock.company_name }}</h4>
                {% if company_profile.data %}
                    <a href="{{ company_profile.data.weburl }}" class="btn btn-outline-primary btn-sm">Company Site</a>
                {% endif %}
            </div>
        </div>
        <div class="col-md-6 d-flex align-items-center">
            <div class="d-flex justify-content-end align-items-center w-100">
                {% if company_profile.data %}
                    <img src="{{ company_profile.data.logo }}" class="img-fluid mr-3" style="max-width: 100px; height: auto;" alt="">
                {% endif %}
            </div>
        </div>
    </div>

    <hr>

    <a href="{{ url_for('options.options', symbol=stock.ticker_symbol) }}" class="btn btn-outline-success btn-lg">Option Chain</a>
    <a href="{{ url_for('stocks.symbol_news', symbol=stock.ticker_symbol) }}" class="btn btn-outline-dark btn-lg">News Stream</a>
    <a href="{{ url_for('stocks.symbol_financials', symbol=stock.ticker_symbol) }}" class="btn btn-outline-info btn-lg">Financials</a>
    <a href="{{ url_for('stocks.symbol_holders', symbol=stock.ticker_symbol) }}" class="btn btn-outline-secondary btn-lg">Holders/Insiders/Analysts</a>
    <a href="{{ url_for('stocks.symbol_federal', symbol=stock.ticker_symbol) }}" class="btn btn-outline-primary btn-lg">Federal Activity</a>
    <a href="{{ url_for('stocks.symbol_dividends_splits', symbol=stock.ticker_symbol) }}" class="btn btn-outline-warning btn-lg">Dividends/Splits</a>
    <a href="{{ url_for('stocks.symbol_directory') }}" class="btn btn-link btn-lg">Symbol Directory</a>

    <hr>

    <div id="plotly-div">{{ stock_chart | safe }}</div>


    {% if basic_info %}
        <h3>basic_info</h3>
        {% for k, v in basic_info.data.items() %}
            <strong>{{ k }}</strong> | {{ v }}<br>
        {% endfor %}
    {% endif %}


    {% if main_info %}
        <h3>Main info</h3>
        {% for k, v in main_info.data.items() %}
            <strong>{{ k }}</strong> | {{ v }}<br>
        {% endfor %}
    {% endif %}


    {% if fast_info %}
        <h3>fast_info</h3>
        {% for k, v in fast_info.data.items() %}
            <strong>{{ k }}</strong> | {{ v }}<br>
        {% endfor %}
    {% endif %}


    {% if calendar %}
        <h3>Dividends, Earnings and Revenue Estimates</h3>
        {% for k, v in calendar.data.items() %}
            <strong>{{ k }}</strong> | {{ v }}<br>
        {% endfor %}
    {% endif %}


    {% include 'feed/add_post.html' %}

    <br>
    {% for post in symbol_posts %}
        {% include 'feed/_post.html' %}
    {% endfor %}

{% endblock %}